diff -Naur gcc-4.9.3/gcc/config/darwin.c gcc-4.9.3/gcc/config/darwin.c
--- gcc-4.9.3/gcc/config/darwin.c	2014-01-05 15:47:43.000000000 -0600
+++ gcc-4.9.3/gcc/config/darwin.c	2015-09-28 10:58:14.000000000 -0500
@@ -1232,6 +1232,11 @@
 void
 darwin_mark_decl_preserved (const char *name)
 {
+  /* Actually we shouldn't mark any local symbol this way, but for now
+     this only happens with ObjC meta-data.  */
+  if (darwin_label_is_anonymous_local_objc_name (name))
+    return;
+
   fprintf (asm_out_file, "\t.no_dead_strip ");
   assemble_name (asm_out_file, name);
   fputc ('\n', asm_out_file);
Index: gcc-4.9.3/gcc/configure
===================================================================
--- gcc-4.9.3/gcc/configure	(revision 224391)
+++ gcc-4.9.3/gcc/configure	(working copy)
@@ -24912,7 +24912,7 @@ if test "${gcc_cv_as_ix86_filds+set}" = 
 else
   gcc_cv_as_ix86_filds=no
   if test x$gcc_cv_as != x; then
-    $as_echo 'filds mem; fists mem' > conftest.s
+    $as_echo 'filds (%ebp); fists (%ebp)' > conftest.s
     if { ac_try='$gcc_cv_as $gcc_cv_as_flags  -o conftest.o conftest.s >&5'
   { { eval echo "\"\$as_me\":${as_lineno-$LINENO}: \"$ac_try\""; } >&5
   (eval $ac_try) 2>&5
@@ -24943,7 +24943,7 @@ if test "${gcc_cv_as_ix86_fildq+set}" = 
 else
   gcc_cv_as_ix86_fildq=no
   if test x$gcc_cv_as != x; then
-    $as_echo 'fildq mem; fistpq mem' > conftest.s
+    $as_echo 'fildq (%ebp); fistpq (%ebp)' > conftest.s
     if { ac_try='$gcc_cv_as $gcc_cv_as_flags  -o conftest.o conftest.s >&5'
   { { eval echo "\"\$as_me\":${as_lineno-$LINENO}: \"$ac_try\""; } >&5
   (eval $ac_try) 2>&5
